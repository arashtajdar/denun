# Railway Deployment Guide

## Quick Deploy with Railway CLI

### 1. Install Railway CLI
```bash
npm install -g @railway/cli
```

### 2. Login to Railway
```bash
railway login
```

### 3. Initialize Project
```bash
cd c:\Projects\denun
railway init
```
Follow the prompts to create a new project or link to an existing one.

### 4. Add MySQL Database
In the Railway dashboard:
- Click "New" → "Database" → "Add MySQL"

### 5. Set Environment Variables
In Railway dashboard, go to your web service → Variables tab:
```
DB_HOST=${{MYSQL_HOST}}
DB_PORT=${{MYSQL_PORT}}
DB_NAME=${{MYSQL_DATABASE}}
DB_USER=${{MYSQL_USER}}
DB_PASSWORD=${{MYSQL_PASSWORD}}
```

### 6. Initialize Database Schema
```bash
railway connect MySQL
```
Then paste the contents of `init.sql` and execute.

### 7. Deploy
```bash
railway up
```

### 8. Generate Public URL
In Railway dashboard:
- Click on your service
- Settings → Networking → Generate Domain

## Alternative: GitHub Deployment

### 1. Push to GitHub
```bash
git init
git add .
git commit -m "Initial commit"
git remote add origin <your-github-repo-url>
git push -u origin main
```

### 2. Deploy from GitHub
- In Railway, click "New Project"
- Select "Deploy from GitHub repo"
- Choose your repository
- Railway will auto-detect Dockerfile and deploy

### 3. Add MySQL and Configure
Follow steps 4-6 from the CLI method above.

## Verify Deployment

Once deployed, visit your Railway URL and you should see:
- ✅ The data collection page loads
- ✅ User data is displayed
- ✅ Data is stored in MySQL database

## Troubleshooting

### Database Connection Issues
- Verify environment variables are set correctly
- Check that MySQL service is running
- Ensure `init.sql` was executed

### Build Failures
- Check Railway build logs
- Verify Dockerfile syntax
- Ensure all files are committed (if using GitHub)

### Application Errors
- Check Railway deployment logs
- Verify PHP version compatibility
- Check MySQL connection credentials
